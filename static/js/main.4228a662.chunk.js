(this["webpackJsonpkastjesfabriek-admin"]=this["webpackJsonpkastjesfabriek-admin"]||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/Logo.e44725f8.png"},41:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsSAAALEgHS3X78AAABtUlEQVRo3u2ZPY6DMBCFI60UJSegiJZD0SzF5gCUIXfhAKQgDcoeJKQhF0DiDrBRFHaKWQlZ5mdssE3kJ30Nss08mLGxWa2srKyslqQNsAdSoAAeQCPJA8dKcezNXMH7QDlBwEOUeK/J9AFECgJnifDe0lIZ/Atpm5BOG1XBXwAHubSu+zIFWyp88k7r3k7rTZSihb1XnDpdBhqMhax0hpzu46cjhRqMhaxCIOAKOAEe4AJrxMVrMbahGi5EDFAXqQTYjRh3h22pix1ZYwd/AoHA+AH2HXuf2QwEEtN0oNtA0jH9HoArUCMZEHZMh4kuAxUn5z+BvKdPjgXN1kSlw0DMefL5iH53zpuIdRjwmPYHQj6HTF9PhwE2Fa4EAxnT11Vt4IULVFs1wUDN9F2PWLGNMvCr2wAvhTKCgZvuFOIVcUgwcDShiGWm0S3T92TKQuYOmLibtJD1fUqEWBM1FuwN02bLaX+2H3Pv+jlN3dCcTdvQ6NhSdiG0pVS9qe9DaFOv8lhlCKFjFZUHW0OHvcIn1r4BBqRPqiONwUsf7r7F8fq/vpb6g4Mt7O+l/mKysrKyml5/Tp/g5Mm6HVcAAAAASUVORK5CYII="},42:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsSAAALEgHS3X78AAABo0lEQVRo3u2Zv0sDMRTHb3BwUVAQFarSItouXTo5OfsnCC4Opajobbo4urSKcN10VxSs2MHF/8GCrq6iKIiz0F79HkQotUmT+5UE3oPPluS9T7lLXi+OQ0GReCyAMqgCLyVqoAJyUQqfBVegA7qaCHI3QEa1+CJ401h4P5+gpPLLm1R8r8S8jMC1gcX/0ZR5YTsGC/hgSSRQTrGYNngGd+CSbRi34AG0wA9n3p5IoJpC4d/gAEwNeRoeOfM90SQv4eKfZF9EgcCZLoFXMK2wlRsnsK54Fhkl8A5GbBa4EOQcBRvgiG0iJ+AUfJgkcCjI2VRcS4vADiffJDucjBfY4uRbDrGWUQJ5EiCB/+wDt48iJ9/EgLEu65W0CYzF8D88b7vAmu0C27YLHNsucKNTYJO1zr0scvKNDxgb8ELnAAmQAAmQAAmEEahZIFAXCVQsEHBFArmEPq/HJRB8wSgMa6QaBgvcy3SCGXadY5rAF8jKtrOlmCWiCgTFr6j25HPs9sTXKOCzxybrRIjgTmqXnRHnIVnlrD3DGV9nu03BoaBINn4Bezonxi7HN1QAAAAASUVORK5CYII="},43:function(e,t){e.exports="data:image/png;base64,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"},44:function(e,t,a){e.exports=a.p+"static/media/IMG-20200720-WA0009.c09abf50.jpg"},58:function(e,t,a){e.exports=a(77)},63:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(15),r=a.n(o),l=(a(63),a(39)),i=a(2),s=a(7),u=a(5),m=a(40),p=a.n(m),d=a(41),f=a.n(d),g=a(42),h=a.n(g),E=a(43),b=a.n(E),v=a(44),A=a.n(v),j={Logo:p.a,instagram:f.a,facebook:h.a,leftArrow:b.a,jumbotronBackground:A.a},O={images:[],remove:!1},y=Object(n.createContext)(O),k=y.Provider,S=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){switch(t.type){case"authed":return Object.assign({},e,{authed:t.payload});case"user":return Object.assign({},e,{user:t.payload});case"images":return Object.assign({},e,{images:t.payload});case"info":return Object.assign({},e,{info:t.payload});case"check":return console.log("I run"),Object.assign({},e,{check:t.payload});case"current":return Object.assign({},e,{current:t.payload});case"collection":return Object.assign({},e,{collection:t.payload});case"edit":return Object.assign({},e,{edit:t.payload});case"id-remove":return Object.assign({},e,{removeId:t.payload});case"remove":return Object.assign({},e,{remove:t.payload});default:throw new Error}}),O),o=Object(i.a)(a,2),r=o[0],l=o[1];return c.a.createElement(k,{value:{state:r,dispatch:l}},t)},C=a(22),w=a.n(C);a(64),a(78),a(66);w.a.initializeApp({apiKey:"AIzaSyAXB5fnRRVuYMyAun9H6Vb5oCBhqL_waLk",authDomain:"kastjesfabriek.firebaseapp.com",databaseURL:"https://kastjesfabriek.firebaseio.com",projectId:"kastjesfabriek",storageBucket:"kastjesfabriek.appspot.com",messagingSenderId:"563074232680"});var N=w.a.firestore(),I=w.a.storage(),x=w.a.auth(),U=function(){var e=Object(n.useContext)(y).dispatch;return c.a.createElement("p",{type:"button",onClick:function(){x.signOut().then((function(){return localStorage.setItem("authUser","")})).then((function(){return e({type:"authed",payload:!1})}))}},console.log(localStorage.getItem("authUser")),"Sign Out")},B=function(){return c.a.createElement("div",{className:"navbar"},c.a.createElement("div",{className:"logo"},c.a.createElement(s.b,{to:"/home",style:{textDecoration:"none",color:"black"}},c.a.createElement("img",{src:j.Logo,alt:"logo",width:"75px",height:"75px"}))),""!==localStorage.getItem("authUser")?c.a.createElement("div",{className:"navbar-items"},c.a.createElement(s.b,{to:"/home",style:{textDecoration:"none",color:"black"}},c.a.createElement("p",null," Assortiment ")),c.a.createElement(s.b,{to:"/input",style:{textDecoration:"none",color:"black"}},c.a.createElement("p",null,"Toevoegen")),c.a.createElement(s.b,{to:"/",style:{textDecoration:"none",color:"black"}},c.a.createElement(U,null))):null)},D=function(){return c.a.createElement("div",{className:"banner"},c.a.createElement("h2",null,"Verkocht"))},J=function(e){var t=e.id,a=e.title,o=e.price,r=e.pics,l=e.sold,u=e.description,m=e.Collection,p=e.history,d=Object(n.useState)(""),f=Object(i.a)(d,2),g=f[0],h=f[1],E=Object(n.useContext)(y),b=E.dispatch,v={title:a,price:o,pics:r,description:u,Collection:m};console.log("sold inside item",l),Object(n.useEffect)((function(){h(localStorage.getItem("authUser"))}),[E.state.authed]);return c.a.createElement("div",{className:"item"},c.a.createElement(s.b,{style:{textDecoration:"none",color:"black"},onClick:function(){b({type:"current",payload:v}),localStorage.setItem("current",JSON.stringify(v))},to:"/spec"},c.a.createElement("div",{className:"picture"},c.a.createElement("div",{style:{background:"url(".concat(r[0],")")}}))),c.a.createElement("div",{className:"item-title"},c.a.createElement("h1",null,a)),l?c.a.createElement(D,null):c.a.createElement("div",{className:"price"},c.a.createElement("p",null,o,",00")),""!==g?c.a.createElement("div",{className:"remove",onClick:function(){b({type:"id-remove",payload:t}),b({type:"remove",payload:!0})}},"X"):null,""!==g?c.a.createElement("div",{className:"edit",onClick:function(){N.collection("items").doc(t).get().then((function(e){b({type:"edit",payload:e.data()}),localStorage.setItem("edit",JSON.stringify(e.data()))})).then((function(){p.push("/edit")}))}},"edit"):null)},F=function(e){var t=e.title;e.backgroundPicture,e.logo,e.text;return c.a.createElement("div",{className:"title"},c.a.createElement("h1",null,t))},M=function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer-links"},c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"https://www.instagram.com/kastjes.fabriek/",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:j.instagram,alt:"insta",width:"36px",height:"36px"})),c.a.createElement("a",{href:"https://www.facebook.com/Kastjesfabriek-106661461115300",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:j.facebook,alt:"facebook",width:"36px",height:"36px"}))),c.a.createElement("p",null,"\xa9 2020, Kastjes Fabriek created by Luc van Kerkvoort")))},T=a(9),R=function(e){var t=e.title,a=Object(n.useContext)(y).dispatch,o=Object(n.useState)(""),r=Object(i.a)(o,2),l=r[0],u=r[1],m=Object(n.useState)(""),p=Object(i.a)(m,2),d=p[0],f=p[1];return Object(n.useEffect)((function(){var e=[],a=[];t&&N.collection("items").where("Collection","array-contains",t).get().then((function(t){t.forEach((function(t){a.push(t.data()),e.push.apply(e,Object(T.a)(t.data().images))})),u(e),f(a)}))}),[]),c.a.createElement(s.b,{to:"/collection",onClick:function(){return a({type:"collection",payload:d})}},c.a.createElement("div",{className:"collection-item"},c.a.createElement("h5",{className:"collection-item-title"},function(){var e=Object(T.a)(t);return e.shift().toUpperCase()+e.join("")}()),c.a.createElement("div",{className:"collection-item-background",style:{background:l?"url(".concat(l[0],")"):"black"}},c.a.createElement("div",{className:"collection-layer"}))))},P=function(e){var t=e.title;return console.log("title",0===Object.keys(t).length),0===Object.keys(t).length&&(t=[localStorage.getItem("title")]),c.a.createElement("div",{className:"collection"},console.log("title",t),(t||[]).map((function(e,t){return c.a.createElement(R,{key:t,title:e})})))},G=function(e){var t=e.message,a=Object(n.useContext)(y),o=a.dispatch,r=a.state.removeId;console.log(a.state.current);var l=Object(u.e)();return console.log("useHistory",l),c.a.createElement("div",{className:"modal-case"},c.a.createElement("div",{className:"modal-item"},c.a.createElement("p",null,t),c.a.createElement("p",{className:"close-modal",onClick:function(){return o({type:"remove",payload:!1})}},"close"),c.a.createElement("button",{onClick:function(){N.collection("items").doc(r).delete().then((function(){o({type:"remove",payload:!1}),setTimeout((function(){return o({type:"check",payload:!a.state.check})}),1e3),l.push("/home")}))}},"Remove")))},L=function(e){Object(n.useEffect)((function(){localStorage.setItem("title",e.collectionTitles),""===localStorage.getItem("authUser")&&e.history.push("/")}),[]);var t=Object(n.useContext)(y).state.info;return c.a.createElement("div",{className:"home"},c.a.createElement(F,{title:"Collecties"}),c.a.createElement(P,{title:e.collectionTitles,collections:e.collections}),c.a.createElement(F,{title:"Producten"}),c.a.createElement("div",{className:"shop"},(t||[]).map((function(t,a){return c.a.createElement(J,{history:e.history,key:a,id:t.id,title:t.title,sold:t.sold,description:t.description,pics:t.images,price:t.price,type:t.Collection})}))),c.a.createElement(M,null))},Y=a(12),K=a.n(Y),Q=a(19),X=function(e){var t=e.setImage,a=Object(n.useContext)(y),o=a.dispatch,r=Object(n.useState)(""),l=Object(i.a)(r,2),s=l[0],u=l[1];return c.a.createElement("div",{className:"add-item"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("start of upload"),""===s&&console.error("not an image, the image file is a ".concat(typeof s)),I.ref("/images/".concat(s.name)).put(s).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){I.ref("images").child(s.name).getDownloadURL().then((function(e){t(!0),o({type:"images",payload:a.state.images?[].concat(Object(T.a)(a.state.images),[e]):[e]})}))}))}},c.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];u((function(e){return t}))}}),c.a.createElement("button",null,"Upload Picture")))},W=function(e){var t=e.setImage,a=Object(n.useContext)(y),o=a.dispatch;return c.a.createElement("div",{className:"preview"},(a.state.images||[]).map((function(e,n){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"preview-item"},c.a.createElement("div",{className:"preview-pic",key:n,style:{background:"url(".concat(e,") no-repeat center/contain")}}),c.a.createElement("button",{onClick:function(n){!function(e,t){e.preventDefault();for(var n=a.state.images,c=0;c<a.state.images.length;c++)if(a.state.images[c]===t)return n.splice(c,1),o({type:"images",payload:n})}(n,e),t()(!1)}},"verwijderen")))})))},H=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)({}),s=Object(i.a)(l,2),u=(s[0],s[1]),m=Object(n.useContext)(y),p=m.dispatch;Object(n.useEffect)((function(){""===localStorage.getItem("authUser")&&e.history.push("/"),p({type:"images",payload:[]}),N.collection("collection").doc("all").get().then((function(e){var t=e.data();console.log("object",t),r(Object.keys(t)),u(t)}))}),[]);var d=Object(n.useState)(""),f=Object(i.a)(d,2),g=f[0],h=f[1],E=Object(n.useState)(""),b=Object(i.a)(E,2),v=b[0],A=b[1],j=Object(n.useState)(""),O=Object(i.a)(j,2),k=O[0],S=O[1],C=Object(n.useState)(!1),w=Object(i.a)(C,2),I=w[0],x=w[1],U=Object(n.useState)(""),B=Object(i.a)(U,2),D=B[0],J=B[1],F=Object(n.useState)(!1),M=Object(i.a)(F,2),R=M[0],P=M[1],G=Object(n.useState)([]),L=Object(i.a)(G,2),Y=L[0],H=L[1],V=Object(n.useState)(!1),q=Object(i.a)(V,2),z=q[0],Z=q[1],_=!1===z||""===g||""===k||""===I,$=function(e){Z(e)};function ee(){return te.apply(this,arguments)}function te(){return(te=Object(Q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.collection("items").get().then((function(e){return t=e.size})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=Object(n.useState)(""),ne=Object(i.a)(ae,2),ce=ne[0],oe=ne[1];function re(){return(re=Object(Q.a)(K.a.mark((function e(t){var a,n,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ee();case 3:a=e.sent,n=(a+1).toString(),c={id:"KF"+n,title:g,description:v,Collection:D?[].concat(Object(T.a)(Y),[D]):Object(T.a)(Y),price:k,sold:I,images:m.state.images},console.log(c.Collection),N.collection("items").doc("KF"+n).set(c).then((function(e){oe("Succesvol"),p({type:"check",payload:!m.state.check})}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(Y),c.a.createElement("div",{className:"input"},console.log("itemCollection",Y),c.a.createElement(X,{setImage:function(e){return Z(e)}}),c.a.createElement(W,{setImage:function(){return $}}),c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"titel"},"Titel"),c.a.createElement("input",{type:"text",className:"form-control",id:"titel","aria-describedby":"titel",onChange:function(e){return h(e.target.value)}})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{for:"description"},"Beschrijving"),c.a.createElement("textarea",{class:"form-control",id:"description",rows:"3",onChange:function(e){return A(e.target.value)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"exampleFormControlSelect1"},"Collectie"),o.map((function(e){return c.a.createElement("div",{class:"form-check"},c.a.createElement("input",{class:"form-check-input",type:"checkbox",name:e,id:"defaultCheck1",onChange:function(e){console.log("e",e.target);var t=e.target,a=t.name,n=t.checked;if(console.log(n),n)H([].concat(Object(T.a)(Y),[a]));else{var c=Y,o=c.indexOf(a),r=c.splice(o,1);console.log("number",o),console.log("removed array",r),console.log(c),H(c)}}}),c.a.createElement("label",{class:"form-check-label",for:"defaultCheck1"},e))})),c.a.createElement("div",{class:"form-check"},c.a.createElement("input",{class:"form-check-input",type:"checkbox",value:"nieuwe collectie toevoegen",id:"defaultCheck1",onChange:function(e){return P(e.target.checked)}}),c.a.createElement("label",{class:"form-check-label",for:"defaultCheck1"},"nieuwe collectie toevoegen"))),R?c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"newCollection"},"Nieuwe Collectie"),c.a.createElement("input",{type:"text",className:"form-control",id:"newCollection",onChange:function(e){return J(e.target.value)}})):null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"prijs"},"Prijs in Euros"),c.a.createElement("div",{class:"input-group"},c.a.createElement("div",{class:"input-group-prepend"},c.a.createElement("div",{class:"input-group-text"},"\u20ac")),c.a.createElement("input",{type:"text",class:"form-control",id:"inlineFormInputGroupUsername",placeholder:"Prijs",onChange:function(e){return S(e.target.value)}}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"sold"},"Verkocht?"),c.a.createElement("select",{className:"form-control",id:"sold",onChange:function(e){return x("true"===e.target.value)}},c.a.createElement("option",{value:""},"..."),c.a.createElement("option",{value:!0},"Ja"),c.a.createElement("option",{value:!1},"Nee"))),c.a.createElement("p",null,ce),c.a.createElement("button",{disabled:_,onClick:function(e){return re.apply(this,arguments)},className:"btn btn-primary"},"Uploaden")))},V=function(e){Object(n.useEffect)((function(){""===localStorage.getItem("authUser")&&e.history.push("/")}),[]);var t=Object(n.useContext)(y).state.collection;return c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{title:"Collectie"}),c.a.createElement("div",{className:"shop"},(t||[]).map((function(t,a){return c.a.createElement(J,{history:e.history,key:a,id:t.id,title:t.title,description:t.description,pics:t.images,sold:t.sold,price:t.price})}))),c.a.createElement(M,null))},q=function(e){var t=e.id,a=Object(n.useContext)(y),o=a.dispatch;Object(n.useEffect)((function(){var e=[];N.collection("items").where("id","==",t).get().then((function(t){return t.forEach((function(t){return e.push.apply(e,Object(T.a)(t.data().images))}))})).then((function(){o({type:"images",payload:a.state.images===[]?[].concat(Object(T.a)(a.state.images),e):[].concat(e)})}))}),[]);return c.a.createElement("div",{className:"preview"},(a.state.images||[]).map((function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"preview-item"},c.a.createElement("div",{className:"preview-pic",key:t,style:{background:"url(".concat(e,") no-repeat center/contain")}}),c.a.createElement("button",{key:"l"+t,onClick:function(t){!function(e,t){e.preventDefault();for(var n=0;n<a.state.images.length;n++)if(a.state.images[n]===t)return a.state.images.splice(n,1),o({type:"images",payload:a.state.images})}(t,e)}},"verwijderen")))})))},z=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(""),d=Object(i.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)(""),E=Object(i.a)(h,2),b=E[0],v=E[1],A=Object(n.useState)(!1),j=Object(i.a)(A,2),O=j[0],k=j[1],S=Object(n.useState)(!1),C=Object(i.a)(S,2),w=(C[0],C[1]),I=Object(n.useState)([]),x=Object(i.a)(I,2),U=x[0],B=x[1],D=Object(n.useContext)(y),J=D.dispatch;Object(n.useEffect)((function(){""===localStorage.getItem("authUser")&&e.history.push("/"),N.collection("collection").doc("all").get().then((function(e){var t=e.data();console.log(t),B(Object.keys(t))}))}),[]);var F=D.state.edit;F||(F=JSON.parse(localStorage.getItem("edit"))),console.log(D.state);var M=Object(n.useState)(""),T=Object(i.a)(M,2),R=T[0],P=T[1];function G(){return(G=Object(Q.a)(K.a.mark((function t(a){var n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={id:F.id,title:o||F.title,description:u||F.description,type:f||F.type,price:b||F.price,sold:O,images:D.state.images},N.collection("items").doc(F.id).set(n).then((function(e){console.log("Succesvol upload to database"),P("Succesvol"),J({type:"check",payload:!D.state.check})})).then((function(){return e.history.push("/home")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return c.a.createElement("div",{className:"input"},c.a.createElement(X,{setImage:function(e){return w(e)}}),c.a.createElement(q,{id:F.id}),c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"titel"},"Titel"),c.a.createElement("input",{type:"text",defaultValue:F.title,className:"form-control",id:"titel","aria-describedby":"titel",onChange:function(e){return r(""===e.target.value?e.target.defaultValue:e.target.value)}})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{for:"description"},"Beschrijving"),c.a.createElement("textarea",{class:"form-control",defaultValue:F.description,id:"description",rows:"3",onChange:function(e){return m(""===e.target.value?e.target.defaultValue:e.target.value)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"exampleFormControlSelect1"},"Collectie"),c.a.createElement("select",{className:"form-control",id:"exampleFormControlSelect1",onChange:function(e){return g(e.target.value.toLowerCase())}},c.a.createElement("option",null,"..."),U.map((function(e){return c.a.createElement("option",{value:e},e)})),c.a.createElement("option",null,"nieuwe collectie toevoegen"))),"nieuwe collectie toevoegen"===f?c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"newCollection"},"Nieuwe Collectie"),c.a.createElement("input",{type:"text",className:"form-control",id:"newCollection",onChange:function(e){return B(e.target.value)}})):null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"prijs"},"Prijs in Euros"),c.a.createElement("input",{type:"text",defaultValue:F.price?F.price:"\u20ac",className:"form-control",id:"titel",onChange:function(e){return v(e.target.value)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"sold"},"Verkocht?"),c.a.createElement("select",{className:"form-control",id:"sold",onChange:function(e){return k("true"===e.target.value)}},c.a.createElement("option",{value:""},"..."),c.a.createElement("option",{value:!0},"Ja"),c.a.createElement("option",{value:!1},"Nee"))),c.a.createElement("p",null,R),c.a.createElement("button",{onClick:function(e){return G.apply(this,arguments)},className:"btn btn-primary"},"Uploaden")))},Z=a(24),_=a(32),$=a(46),ee=a(47),te=a(56),ae=a(53),ne=a(48),ce={email:"",password:"",error:null},oe=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.context.dispatch,a=n.state,c=a.email,o=a.password;x.signInWithEmailAndPassword(c,o).then((function(e){n.setState(Object(_.a)({},ce)),console.log("user inside login",e),localStorage.setItem("authUser",JSON.stringify(e.user))})).then((function(e){console.log(e),t({type:"authed",payload:!0}),n.props.history.push("/home")})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Z.a)({},e.target.name,e.target.value))},n.state=Object(_.a)({},ce),n}return Object(ee.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=""===a||""===t;return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),c.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),c.a.createElement("button",{disabled:o,type:"submit"},"Sign In"),n&&c.a.createElement("p",null,n.message))}}]),a}(n.Component);oe.contextType=y;var re=Object(ne.a)(u.f)(oe),le=function(){return c.a.createElement("div",{className:"signin"},c.a.createElement("h1",null,"SignIn"),c.a.createElement(re,null))},ie=a(81),se=function(e){var t=e.picture;return c.a.createElement("div",{className:"gallery"},c.a.createElement(ie.a,null,t.map((function(e,t){return c.a.createElement(ie.a.Item,{key:t},c.a.createElement("div",{key:t,className:"picture",style:{background:"url(".concat(e,")"),backgroundSize:"cover",backgroundPosition:"center center"}}))}))))},ue=function(e){Object(n.useEffect)((function(){""===localStorage.getItem("authUser")&&e.history.push("/")}),[]);var t=e.history.goBack,a=Object(n.useContext)(y);a.state.current||(a.state.current=JSON.parse(localStorage.getItem("current")));var o=a.state.current,r=o.pics,l=o.title,i=o.description,s=o.price;return c.a.createElement("div",{className:"specification"},c.a.createElement("div",{className:"title-spec"},c.a.createElement("img",{src:j.leftArrow,alt:"left arrow",width:"30px",height:"30px",className:"back-to-shopping",onClick:function(){return t()}}),c.a.createElement("h1",null,l)),c.a.createElement("div",{className:"product-spec"},c.a.createElement("div",{className:"picture-spec"},c.a.createElement(se,{picture:r})),c.a.createElement("div",{className:"detail-spec"},c.a.createElement("p",null,"Omschrijving: ",i),c.a.createElement("p",null,"Prijs: ",s,",-"))))},me=(a(76),function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),m=Object(i.a)(r,2),p=m[0],d=m[1],f=Object(n.useContext)(y),g=f.dispatch,h=f.state.remove;return window.addEventListener("beforeunload",(function(){x.doSignOut().then((function(){return localStorage.setItem("authUser","")}))})),Object(n.useEffect)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];x.onAuthStateChanged((function(e){console.log(e),g({type:"user",payload:e}),localStorage.setItem("authUser",JSON.stringify(e))})),N.collection("items").get().then((function(n){n.forEach((function(t){e.push(t.data()),t.data().Collection.forEach((function(e){return a.push(e)}))}));var c,r=Object(l.a)(a);try{for(r.s();!(c=r.n()).done;){var i=c.value;t[i]=t[i]+1||1}}catch(u){r.e(u)}finally{r.f()}var s=Object.keys(t);g({type:"info",payload:e}),d(e),o(s),N.collection("collection").doc("all").set(t)}))}),[f.state.check]),c.a.createElement("div",{className:"App"},c.a.createElement(s.a,{basename:"/"},c.a.createElement(B,null),h?c.a.createElement(G,{history:u.e,message:"Are you sure you want to remove this item"}):null,c.a.createElement(u.a,{path:"/home",render:function(e){return c.a.createElement(L,Object.assign({collections:p,collectionTitles:a},e))}}),c.a.createElement(u.a,{path:"/collection",render:function(e){return c.a.createElement(V,e)}}),c.a.createElement(u.a,{exact:!0,path:"/",component:le}),c.a.createElement(u.a,{path:"/edit",render:function(e){return c.a.createElement(z,e)}}),c.a.createElement(u.a,{path:"/spec",render:function(e){return c.a.createElement(ue,e)}}),c.a.createElement(u.a,{path:"/input",render:function(e){return c.a.createElement(H,e)}})))}),pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(c.a.createElement(S,null,c.a.createElement(me,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kastjesfabriek-admin",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/kastjesfabriek-admin","/service-worker.js");pe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):de(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):de(t,e)}))}}()}},[[58,1,2]]]);
//# sourceMappingURL=main.4228a662.chunk.js.map